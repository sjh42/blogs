---
title: 前端三剑客面试题
desc: 收集
date: 2023-03-18
tags: JavaScript
---

### 1. script标签中 defer 和 async 什么区别？

  1. 在 HTML 页面中使用 `<script>` 标签可以引入 JavaScript 文件，并在页面加载时执行其中的代码。defer 和 async 是两个用于标识脚本加载和执行的属性。

  2. defer 属性指示浏览器该脚本在页面加载完成后再执行。当页面下载完后，浏览器会按照 `<script> `标签在文档中出现的顺序依次加载脚本，但是脚本的执行会被推迟到页面解析完毕后。如果存在多个 defer 脚本，则它们会按照它们在文档中出现的顺序被推迟执行。

  3. async 属性指示浏览器该脚本在下载后立即执行，而不必等待页面加载完成。与 defer 不同，脚本在下载完成后立即执行，而不必等待其他脚本或文档的加载和解析。这意味着 async 脚本的执行顺序不能得到保证，因为它们可以在其他脚本之前或之后执行。

  总的来说，defer 是在页面加载完成后执行脚本，而 async 是在脚本下载完成后立即执行。如果你需要脚本依次按照它们在页面中出现的顺序执行，使用 defer。如果脚本之间没有依赖关系，并且它们不必等待文档解析，使用 async 可以提高页面加载速度。

##### 2. Proxy 和 Reflect 有什么关系？

  1. 在 JavaScript 中，Proxy 是一个强大的内置对象，它允许你创建一个代理对象来控制对另一个对象的访问。Reflect 是另一个内置对象，它提供了一些原始操作的方法，例如获取对象的属性和设置对象的属性。Proxy 和 Reflect 都是 ECMAScript 6 中引入的新特性。

  2. Proxy 和 Reflect 的关系在于，Proxy 可以拦截并重载 Reflect 中的方法。例如，你可以使用 Proxy 拦截对某个对象的 get 操作，然后使用 Reflect 来执行实际的 get 操作。这种方式可以使得 Proxy 和 Reflect 之间更好地协作，从而实现更加灵活的操作。

  另外，Proxy 和 Reflect 还可以用于对象的元编程（meta-programming），也就是对对象的结构进行编程。通过在代理对象上拦截一些操作，你可以控制其行为，实现一些自定义的逻辑。同时，使用 Reflect 可以更加方便地执行这些操作。

##### 3. 为什么 ES Module 需要把 import 放在顶部，CommonJS 不需要？

  1. 在 ES Module 中，所有的 import 语句都会被 JavaScript 引擎解析和处理，并且在代码运行前执行。这就意味着在运行时，所有的依赖关系都已经被处理完毕，所有的变量、函数等都已经被定义和初始化。所以，如果在 ES Module 中将 import 语句放到函数内部或者其他代码块中，那么这些 import 语句就会被放到这些代码块中的作用域内，并且可能导致意料之外的行为。

  2. 而在 CommonJS 中，require 语句是在代码运行时执行的，并且返回一个对象，所以如果将 require 语句放到函数内部或者其他代码块中，那么这些 require 语句只会在函数或者代码块被执行时才会被调用。

  因此，为了避免在 ES Module 中出现意外的行为，所有的 import 语句应该放到模块的顶部。而在 CommonJS 中则没有这个限制。



